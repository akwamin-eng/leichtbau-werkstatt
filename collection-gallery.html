<!DOCTYPE html>
<html class="dark" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Leichtbau Werkstatt | Gallery</title>
    <meta name="description" content="An artistic showcase of precision-restored European performance machines." />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: { extend: { colors: { "neon-orange": "#FF4D00" }, fontFamily: { display: ["Space Grotesk", "sans-serif"] } } }
        };
    </script>
    <style>
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html,
        body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #000;
            cursor: none;
        }

        /* Custom cursor */
        #cursor-dot {
            position: fixed;
            z-index: 9999;
            pointer-events: none;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #FF4D00;
            transform: translate(-50%, -50%);
            transition: transform 0.1s ease, width 0.3s ease, height 0.3s ease, opacity 0.3s ease;
        }

        #cursor-ring {
            position: fixed;
            z-index: 9998;
            pointer-events: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: 1px solid rgba(255, 77, 0, 0.5);
            transform: translate(-50%, -50%);
            transition: transform 0.18s ease, width 0.4s ease, height 0.4s ease, border-color 0.3s ease;
        }

        body.hovering #cursor-dot {
            width: 10px;
            height: 10px;
        }

        body.hovering #cursor-ring {
            width: 70px;
            height: 70px;
            border-color: rgba(255, 77, 0, 0.8);
        }

        /* Nav */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            padding: 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7), transparent);
        }

        .nav-link {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 10px;
            font-weight: 600;
            letter-spacing: 0.25em;
            text-transform: uppercase;
            color: rgba(255, 255, 255, 0.55);
            text-decoration: none;
            position: relative;
            transition: color 0.3s ease;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 0;
            height: 1px;
            background: #FF4D00;
            transition: width 0.3s ease;
        }

        .nav-link:hover {
            color: #fff;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .nav-link.active {
            color: #FF4D00;
        }

        .nav-link.active::after {
            width: 100%;
            background: #FF4D00;
        }

        /* Canvas */
        #canvas {
            position: fixed;
            inset: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        /* Each image tile */
        .tile {
            position: absolute;
            will-change: transform;
            overflow: hidden;
            cursor: none;
        }

        .tile img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            filter: grayscale(100%) brightness(0.75);
            transition: filter 0.6s ease, transform 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .tile:hover img {
            filter: grayscale(0%) brightness(0.95);
            transform: scale(1.06);
        }

        /* Clip-path reveal animations */
        @keyframes revealLeft {
            from {
                clip-path: inset(0 100% 0 0);
            }

            to {
                clip-path: inset(0 0% 0 0);
            }
        }

        @keyframes revealRight {
            from {
                clip-path: inset(0 0 0 100%);
            }

            to {
                clip-path: inset(0 0 0 0%);
            }
        }

        @keyframes revealDown {
            from {
                clip-path: inset(0 0 100% 0);
            }

            to {
                clip-path: inset(0 0 0% 0);
            }
        }

        @keyframes revealUp {
            from {
                clip-path: inset(100% 0 0 0);
            }

            to {
                clip-path: inset(0% 0 0 0);
            }
        }

        @keyframes fadeSlide {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .tile {
            opacity: 0;
        }

        .tile.rendered {
            opacity: 1;
        }

        .tile.anim-left {
            animation: revealLeft 1.1s cubic-bezier(0.76, 0, 0.24, 1) forwards;
        }

        .tile.anim-right {
            animation: revealRight 1.1s cubic-bezier(0.76, 0, 0.24, 1) forwards;
        }

        .tile.anim-down {
            animation: revealDown 1.1s cubic-bezier(0.76, 0, 0.24, 1) forwards;
        }

        .tile.anim-up {
            animation: revealUp 1.1s cubic-bezier(0.76, 0, 0.24, 1) forwards;
        }

        /* Scroll hint */
        #hint {
            position: fixed;
            bottom: 32px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Space Grotesk', sans-serif;
            font-size: 9px;
            letter-spacing: 0.5em;
            text-transform: uppercase;
            color: rgba(255, 255, 255, 0.25);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            animation: fadeSlide 1s ease 3.5s both;
        }

        #hint-line {
            width: 1px;
            height: 40px;
            background: linear-gradient(to bottom, #FF4D00, transparent);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 0.4;
            }

            50% {
                opacity: 1;
            }
        }

        #hint.hidden {
            opacity: 0;
        }

        /* Loading veil */
        #veil {
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 200;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.8s ease;
        }

        #veil.gone {
            opacity: 0;
            pointer-events: none;
        }

        .veil-logo {
            width: 80px;
            opacity: 0;
            animation: fadeSlide 0.6s ease 0.2s forwards;
        }
    </style>
</head>

<body>

    <!-- Loading veil -->
    <div id="veil">
        <img class="veil-logo"
            src="https://lh3.googleusercontent.com/aida-public/AB6AXuDK_oWwmQYaX3z5BZh4_OvdDH7N3YO6EmW7zBpxO33TwnjJk_MN6rn_818i9pl5uI9ybZhGhn7SnsobHFV7FIglEj9SD7pHhwVKMqN5Ws-BQ8zORL03mPuo7Dzk8BVZ-XnV-GSUxF-wohxRkKb6SWbcV9LJIwqSa4FHm_x41rNh7pojuLwHJmisqdToNCYuKP38nLbJWa_QZe0k_sxk2Iaj5lmhaEKLEwvJOdig1cZzl0ZHc4HDMGHpAN8MoLf7T73iRbWikl-13mI"
            alt="" />
    </div>

    <!-- Custom cursor -->
    <div id="cursor-dot"></div>
    <div id="cursor-ring"></div>

    <!-- Unified Nav -->
    <nav>
        <div style="display:flex;gap:32px;">
            <a class="nav-link" href="index.html#builds">Builds</a>
            <a class="nav-link" href="parts.html">Parts</a>
        </div>
        <div>
            <a href="index.html">
                <img src="https://lh3.googleusercontent.com/aida-public/AB6AXuDK_oWwmQYaX3z5BZh4_OvdDH7N3YO6EmW7zBpxO33TwnjJk_MN6rn_818i9pl5uI9ybZhGhn7SnsobHFV7FIglEj9SD7pHhwVKMqN5Ws-BQ8zORL03mPuo7Dzk8BVZ-XnV-GSUxF-wohxRkKb6SWbcV9LJIwqSa4FHm_x41rNh7pojuLwHJmisqdToNCYuKP38nLbJWa_QZe0k_sxk2Iaj5lmhaEKLEwvJOdig1cZzl0ZHc4HDMGHpAN8MoLf7T73iRbWikl-13mI"
                    alt="Leichtbau Werkstatt" style="height:52px;width:auto;filter:brightness(0) invert(1);" />
            </a>
        </div>
        <div style="display:flex;gap:32px;">
            <a class="nav-link active" href="collection-gallery.html">Gallery</a>
            <a class="nav-link" href="contact.html">Connect</a>
        </div>
    </nav>

    <!-- Main canvas -->
    <div id="canvas"></div>

    <!-- Scroll hint -->
    <div id="hint">
        <div id="hint-line"></div>
        <span>Move</span>
    </div>

    <script>
        // ═══════════════════════════════════════════════
        //  DATA — curated car images with layout coords
        //  Each tile: { src, alt, x(vw), y(vh), w(vw), h(vh), depth, rot, anim }
        //  depth: 0=bg(slow) → 1=fg(fast)
        // ═══════════════════════════════════════════════
        const TILES = [
            // Large hero — centre-left
            {
                src: 'https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=1400&q=85',
                alt: 'Classic Porsche 911',
                x: 6, y: 10, w: 38, h: 52, depth: 0.15, rot: -1.5, anim: 'anim-left', delay: 0
            },
            // Wide landscape — top right
            {
                src: 'https://images.unsplash.com/photo-1525609004556-c46c7d6cf023?w=1200&q=85',
                alt: 'BMW M3 E30',
                x: 47, y: 5, w: 46, h: 30, depth: 0.3, rot: 1.0, anim: 'anim-right', delay: 160
            },
            // Mid-right portrait
            {
                src: 'https://images.unsplash.com/photo-1588258219511-64eb629cb833?w=900&q=85',
                alt: 'Porsche detail',
                x: 68, y: 37, w: 25, h: 40, depth: 0.5, rot: 2.2, anim: 'anim-up', delay: 320
            },
            // Bottom-left landscape
            {
                src: 'https://images.unsplash.com/photo-1469285994282-454cbe0bd05a?w=1000&q=85',
                alt: 'Alpha Romeo',
                x: 3, y: 67, w: 32, h: 30, depth: 0.25, rot: -0.8, anim: 'anim-down', delay: 200
            },
            // Small square — upper mid
            {
                src: 'https://images.unsplash.com/photo-1544636331-e26879cd4d9b?w=700&q=85',
                alt: 'Classic interior',
                x: 38, y: 43, w: 18, h: 22, depth: 0.6, rot: -2.5, anim: 'anim-left', delay: 380
            },
            // Bottom-centre landscape
            {
                src: 'https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=1200&q=85',
                alt: 'Ferrari silhouette',
                x: 28, y: 70, w: 38, h: 28, depth: 0.2, rot: 1.2, anim: 'anim-up', delay: 440
            },
            // Far right bottom small
            {
                src: 'https://images.unsplash.com/photo-1579789723621-9d743a4ffe8a?w=800&q=85',
                alt: 'Vintage dashboard',
                x: 80, y: 65, w: 17, h: 32, depth: 0.7, rot: -3.0, anim: 'anim-right', delay: 560
            },
            // Background large — far left mid
            {
                src: 'https://images.unsplash.com/photo-1541899481282-d53bffe3c35d?w=1200&q=85',
                alt: 'Road silhouette',
                x: -2, y: 32, w: 22, h: 36, depth: 0.08, rot: 0.5, anim: 'anim-left', delay: 100
            },
            // Upper-centre micro
            {
                src: 'https://images.unsplash.com/photo-1568772585407-9361f9bf3a87?w=700&q=85',
                alt: 'Wheel detail',
                x: 47, y: 37, w: 13, h: 16, depth: 0.8, rot: 4.0, anim: 'anim-down', delay: 480
            },
        ];

        // ═══════════════════════════════════════════════
        //  BUILD TILES
        // ═══════════════════════════════════════════════
        const canvas = document.getElementById('canvas');
        const tileEls = [];

        TILES.forEach((t, i) => {
            const div = document.createElement('div');
            div.className = `tile ${t.anim}`;
            div.style.cssText = `
        left: ${t.x}vw; top: ${t.y}vh;
        width: ${t.w}vw; height: ${t.h}vh;
        transform: rotate(${t.rot}deg);
        animation-delay: ${t.delay + 600}ms;
        transition: box-shadow 0.5s ease;
    `;
            div.setAttribute('data-depth', t.depth);
            div.setAttribute('data-base-rot', t.rot);

            const img = document.createElement('img');
            img.src = t.src;
            img.alt = t.alt;
            img.loading = 'eager';
            div.appendChild(img);

            div.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
            div.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));

            canvas.appendChild(div);
            tileEls.push(div);
        });

        // ═══════════════════════════════════════════════
        //  REVEAL after veil lifts
        // ═══════════════════════════════════════════════
        let allLoaded = 0;
        const totalImgs = TILES.length;
        tileEls.forEach(el => {
            const img = el.querySelector('img');
            const onLoad = () => {
                allLoaded++;
                if (allLoaded >= totalImgs) startExperience();
            };
            if (img.complete) onLoad(); else img.addEventListener('load', onLoad);
            img.addEventListener('error', onLoad); // don't block on errors
        });

        // Fallback — start after 2.5s regardless
        setTimeout(startExperience, 2500);

        let started = false;
        function startExperience() {
            if (started) return;
            started = true;
            const veil = document.getElementById('veil');
            veil.classList.add('gone');
            setTimeout(() => {
                veil.remove();
                tileEls.forEach(el => el.classList.add('rendered'));
            }, 900);
        }

        // ═══════════════════════════════════════════════
        //  MOUSE PARALLAX
        // ═══════════════════════════════════════════════
        let mouseX = window.innerWidth / 2;
        let mouseY = window.innerHeight / 2;
        let currentX = mouseX;
        let currentY = mouseY;

        document.addEventListener('mousemove', e => {
            mouseX = e.clientX;
            mouseY = e.clientY;
            // Move cursor elements
            document.getElementById('cursor-dot').style.left = e.clientX + 'px';
            document.getElementById('cursor-dot').style.top = e.clientY + 'px';
            document.getElementById('cursor-ring').style.left = e.clientX + 'px';
            document.getElementById('cursor-ring').style.top = e.clientY + 'px';
        });

        const MAX_SHIFT = 60; // px max shift at depth=1

        function tick() {
            // Smooth lerp towards mouse position
            currentX += (mouseX - currentX) * 0.07;
            currentY += (mouseY - currentY) * 0.07;

            const cx = window.innerWidth / 2;
            const cy = window.innerHeight / 2;
            const normX = (currentX - cx) / cx; // -1 to +1
            const normY = (currentY - cy) / cy;

            tileEls.forEach(el => {
                const depth = parseFloat(el.getAttribute('data-depth'));
                const baseRot = parseFloat(el.getAttribute('data-base-rot'));
                const tx = normX * MAX_SHIFT * depth;
                const ty = normY * MAX_SHIFT * depth;
                // Subtle tilt based on horizontal mouse position
                const tilt = normX * depth * 1.5;
                el.style.transform = `translate(${tx}px, ${ty}px) rotate(${baseRot + tilt}deg)`;
            });

            requestAnimationFrame(tick);
        }
        tick();

        // ═══════════════════════════════════════════════
        //  HIDE HINT on first move
        // ═══════════════════════════════════════════════
        let hintHidden = false;
        document.addEventListener('mousemove', () => {
            if (!hintHidden) {
                hintHidden = true;
                document.getElementById('hint').classList.add('hidden');
            }
        }, { once: true });
    </script>
</body>

</html>